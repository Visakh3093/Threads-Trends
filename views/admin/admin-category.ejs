<%- include ('../partials/admin-header') %>
<!-- Content wrapper -->
<div class="content-wrapper">
    <!-- Content -->
    
    <div class="container-xxl flex-grow-1 container-p-y">
  
      <br><br>
      <div class="">
      
          <form action="/admin/adminCategory" method="post">
          <div class="input-group">
            
            <input
              type="text"
              class="form-control" id="category"
              name="category"
              placeholder="Add Category"
              aria-label="Recipient's username"
              aria-describedby="button-addon2"
            />
            <!-- <div class="form-outline form-white mb-4"></div> -->
       
<!-- </div> -->
            <button class="btn btn-outline-primary" type="submit" onclick="return validation()" id="button-addon2">Add</button>
           
          </div>
          <span id="cat" class="text-danger" style="padding-left:15px"></span>
        </form>
        
      </div>
      <h4 class="fw-bold py-3 mb-4"><span class="text-muted fw-light"></span> </h4>
  
  
  <div class="card">
  <h5 class="card-header">Category List</h5>
  <div class="table-responsive text-nowrap">
  <table class="table" id="category">
  <thead>
  
  </thead>
  <thead>
    <th>SI NO</th>
    <th>category</th>
    <th>Status</th>
    <th>Action</th>
  </thead>
  <tbody>
   
    <% if( category.length> 0){ %>
      <% for(let i=0;i <category.length; i++){ %>
  
    <tr>
      <th>  <%=[ i +1] %>   </th>
        <td>
          <%= category[i].name %> 
        </td>
        <td><span class="badge bg-label-primary me-1" style="width: 100px;" > <% if(category[i].isAvailable){ %> 
          <label class="">
              <i class="m-r-10 mdi mdi-account-off text-success" style="width: 90px;">Active</i></label>
          <% } else { %>
              <label class="">
                  <i
                      class="m-r-10 mdi mdi-account-off text-danger" style="width: 90px;">inActive</i></label>
              <% } %>
                  </label></span></td>
        <td>
          <!-- <a class="text-danger"
          href="/admin/deleteCategory?id=<%= category[i]._id %>"><i
              style="color: #ff0000;"
              class="m-r-5 mdi mdi-border-color"></i>Delete</a><br> -->
  
              <% if(category[i].isAvailable) { %>
                <a class="btn btn-danger text-white" style="width: 90px;"
                    href="/admin/unlistCategory?id=<%= category[i]._id %> ">Unlist</a>
                <% } else { %>
                    <a  class="btn btn-success"  style="width: 90px;"
                        href="/admin/listCategory?id=<%= category[i]._id %> ">List</a>
                    <% } %>
        </td>
       
      
  
       
          
    </tr>
   
        <tr>
          <% }} else { %>
        </tr>
  
        <tr>
          <td colspan="5">Category Not Found</td>
      </tr>
      <% } %>
        
    
  </tbody>
  </table>
  </div>
  </div>
  
  
   
   
  
  
   
  
  
  
    <!-- Footer -->
    <footer class="content-footer footer bg-footer-theme">
        <div class="container-xxl d-flex flex-wrap justify-content-between py-2 flex-md-row flex-column">
          <div class="mb-2 mb-md-0">
           
        
  
          </div>
          <div>
            
      </footer>
      <!-- / Footer -->
  
      <div class="content-backdrop fade"></div>
    </div>
    <!-- Content wrapper -->
  </div>
  <!-- / Layout page -->
  </div>
  
  <!-- Overlay -->
  <div class="layout-overlay layout-menu-toggle"></div>
  </div>
  <!-- / Layout wrapper -->
  
  
  <!-- Core JS -->
  <!-- build:js assets/vendor/js/core.js -->
  
  
  
  
  <script>
  $(document).ready(function () {
    $('#category').DataTable();
  });
  </script>



  <script type="text/javascript">

    function validation() {
      var category= document.getElementById('category').value;
      


      if (category == "") {
        document.getElementById('cat').innerHTML =
          "Please fill the category field";
         
        return false;
      }
     if ((category.length <= 2) || (category.length > 20)) {
        document.getElementById('cat').innerHTML =
          "Category length must be between 3 and 20";
         
        return false;
      }
      if(!category.match(/^[A-Za-z]+$/)){
        document.getElementById('cat').innerHTML = "Only characters are allowed"
        return false
      }
     if (!isNaN(category)) {
        document.getElementById('cat').innerHTML =
          "Only characters are allowed";
         
        return false;
      }
      
        document.getElementById('cat').innerHTML =
          "";
          
      
     
       
    }

  </script>

<%- include ('../partials/admin-footer') %>